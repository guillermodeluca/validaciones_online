<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Propietario</title>
<link rel="stylesheet" href="./styles.css"> 
</head>
<body>
    <div class="container">
        <h1>Perfil de Propietario</h1>
        <div id="loadingStatus" class="status-message">Cargando datos del perfil...</div>

        <form id="profileForm" class="hidden">
            <h2 class="section-title">Datos Validados (Equifax)</h2>
            <div class="form-group">
                <label for="fullNameUsuario">Nombre Completo:</label>
                <input type="text" id="fullNameUsuario" disabled>
            </div>
            <div class="form-group">
                <label for="documentNumberUsuario">Número de Documento:</label>
                <input type="text" id="documentNumberUsuario" disabled>
            </div>
            <div class="form-group">
                <label for="genderUsuario">Género:</label>
                <input type="text" id="genderUsuario" disabled>
            </div>
            <div class="form-group">
                <label for="birthdateUsuario">Fecha de Nacimiento:</label>
                <input type="text" id="birthdateUsuario" disabled>
            </div>
            <div class="form-group">
                <label for="validationStatusUsuario">Estado de Validación:</label>
                <input type="text" id="validationStatusUsuario" disabled>
            </div>
            <div class="form-group">
                <label for="validationExpiresAtUsuario">Vence el:</label>
                <input type="text" id="validationExpiresAtUsuario" disabled>
            </div>

            <h2 class="section-title">Datos Adicionales</h2>

            <!-- CAMPOS DE EMAIL -->
            <div class="form-group">
                <label for="emailUsuario">Email:</label>
                <input type="email" id="emailUsuario" placeholder="tu.email@ejemplo.com">
                <span id="emailMatchStatus" class="match-status"></span>
            </div>
            <div class="form-group">
                <label for="emailUsuarioConfirmacion">Confirma Email:</label>
                <input type="email" id="emailUsuarioConfirmacion" placeholder="confirma.tu.email@ejemplo.com">
            </div>

           <!-- CAMPOS DE CONTRASEÑA -->
            <div class="form-group">
                <label for="passwordUsuario">Contraseña:</label>
                <input type="password" id="passwordUsuario" placeholder="Ingresa tu contraseña">
                <small class="password-hint">
                    Mínimo 8 caracteres. Debe incluir al menos 3 de los siguientes:
                    Mayúscula, minúscula, número, símbolo.
                </small>
                <span id="passwordMatchStatus" class="match-status"></span>
            </div>
            <div class="form-group">
                <label for="passwordUsuarioConfirmacion">Confirma Contraseña:</label>
                <input type="password" id="passwordUsuarioConfirmacion" placeholder="Confirma tu contraseña">
            </div>

            <!-- CAMPOS DE DATOS DE PROPIETARIO (Revisado para no duplicar Razón Social) -->
            <div class="form-group">
                <label for="razonSocialPropietario">Razón Social / Nombre de Establecimiento:</label>
                <input type="text" id="razonSocialPropietario" placeholder="Empresa Demo S.A.">
            </div>
            <div class="form-group">
                <label for="direccionPropietario">Dirección del Establecimiento:</label>
                <input type="text" id="direccionPropietario" placeholder="Calle Falsa 123">
            </div>
            <div class="form-group">
                <label for="telefonoContactoPropietario">Teléfono de Contacto:</label>
                <input type="text" id="telefonoContactoPropietario" placeholder="11-5555-1234">
            </div>
            <div class="form-group">
                <label for="paginaWebPropietario">Página Web:</label>
                <input type="text" id="paginaWebPropietario" placeholder="www.tuweb.com">
            </div>
            <div class="form-group">
                <label for="aliasBancarioPropietario">Alias Bancario:</label>
                <input type="text" id="aliasBancarioPropietario" placeholder="TU.ALIAS.BANCARIO">
            </div>
            <div class="form-group">
                <label for="habilitacionMunicipalPropietario">Habilitación Municipal:</label>
                <input type="text" id="habilitacionMunicipalPropietario" placeholder="Habilitacion-XYZ-123">
            </div>

            <button type="submit" id="saveProfileBtn">Guardar Perfil</button>
            <button type="button" id="logoutBtn" style="background-color: #dc3545;">Cerrar Sesión</button>
        </form>
    </div>

    <!-- Carga la configuración de Firebase -->
    <script type="module" src="./firebaseConfig.js"></script>
    <!-- Carga el cliente de Firebase con Authentication, Firestore, Functions y App Check -->
    <script type="module" src="./firebaseClient.js"></script>
    <!-- Carga el script ESPECÍFICO de esta página -->
    <script type="module" src="./propietario_test.js"></script>
</body>
</html>